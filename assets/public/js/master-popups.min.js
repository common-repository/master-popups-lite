window.MasterPopups=function(e,o,t,n){function i(o,t){var n=this;return n.$body=e("body"),n.popup=o,n.$popup=e(n.popup),n.popup_id=0,n.$container=n.$popup.closest(".mpp-container"),n.$wrap=n.$popup.find(".mpp-wrap").first(),n.$wrap_content=n.$wrap.find(".mpp-content").first(),n.$desktop_content=n.$wrap.find(".mpp-content-desktop").first(),n.$mobile_content=n.$wrap.find(".mpp-content-mobile").first(),n.$wp_editor_content=n.$wrap.find(".mpp-content-wp-editor").first(),n.$device_contents=n.$popup.find(".mpp-content-desktop"),n.$elements=n.$popup.find(".mpp-element"),n.$overlay=n.$container.find(".mpp-overlay"),n.is_open=!1,n.is_opening=!1,n.metadata={},n.defaults={id:0,position:"middle-center",ratioSmallDevices:1,wpEditor:{enabled:!1,autoHeight:!1,padding:"20px 36px"},sound:{enabled:!1,delay:-10,src:""},preloader:{show:!0,duration:1e3},open:{event:"click",delay:0,duration:800,animation:"mpp-zoomIn"},close:{delay:0,duration:700,animation:"mpp-zoomOut"},overlay:{show:!0,durationIn:300,durationOut:250},desktop:{device:"desktop",browserWidth:1e3,browserHeight:580,width:800,widthUnit:"px",height:400,heightUnit:"px"},mobile:{device:"mobile",browserWidth:600,browserHeight:580,width:500,widthUnit:"px",height:300,heightUnit:"px"},callbacks:{beforeOpen:function(e,o,t,n){},afterOpen:function(e,o,t,n){},beforeClose:function(e,o,t,n){},afterClose:function(e,o,t,n){},onSubmit:function(e,o,t,n,i){},resize:function(e,o,t,n){}},triggers:{open:{onLoad:{enabled:!1,delay:1e3}},close:{onClickOverlay:!0,onEscKeydown:!0}},cookies:{onLoad:{enabled:!1},onConversion:{enabled:!1}},custom_cookies:{},custom_cookies_on_click:[],custom_cookie_on_close:""},n.has_popup()&&(n.metadata=n.$popup.data("popup")||{}),n.options=e.extend(!0,{},n.defaults,t,n.metadata),n.options.id=n.options.id||n.$popup.data("popup-id"),n.popup_id=n.options.id,n.options.open_delay=r.parse_number(n.options.open.delay)+n.duration_preloader_and_overlay(),n.set_position(),n.set_options_to_data(n.options),n.init(),n.events(),n.open(),this}function p(e){r.debug&&console.log(e)}var r={callbacks:[],popups:[],queue_popups:[],opened_popups:[],working:0,last_open_event:"click"};return e(function(t){var n=parseInt(MPP_PUBLIC_JS.popups_z_index,10);r.debug="on"===MPP_PUBLIC_JS.debug_mode,r.z_index={overlay:n-1,popup:n},r.enable_enqueue_popups=MPP_PUBLIC_JS.enable_enqueue_popups,e.each(MPP_POPUP_OPTIONS,function(e){r.popups.unshift(e)}),e.each(r.popups,function(t,n){var i=MPP_POPUP_OPTIONS[n],p=!1,s=!1,a=r.has_cookie_not_show_popup(n),u=i.triggers.open.onClick,c=[];c.push(".mpp-trigger-popup-"+n),c.push('a[href="mpp-trigger-popup-'+n+'"]'),c.push('a[href="#mpp-trigger-popup-'+n+'"]'),u.customClass&&(e("."+u.customClass).css("cursor","pointer"),c.push("."+u.customClass),c.push('a[href="'+u.customClass+'"]'),c.push('a[href="#'+u.customClass+'"]')),c=c.join(",");var d="hover"==u.event?"mouseover":"click";if(e(c).on(d,function(e){u.preventDefault&&e.preventDefault(),i.open.event="click",r.open_popup_by_id(n,i)}),r.get_cookie_event("onConversion",i)&&(s=!0),!a&&!s&&("undefined"==typeof CookiePlus||CookiePlus.should_display_popup(n,i))){p=!1;var l=i.triggers.open.onLoad;l.enabled&&!MPP_PUBLIC_JS.is_admin&&e(o).on("load",function(e){p=!0,setTimeout(function(){(r.get_cookie_event("onLoad",i)||r.get_cookie_event("onConversion",i))&&(p=!1),p&&(i.open.event="onLoad",r.open_popup_by_id(n,i))},r.parse_number(l.delay))})}})}),e(t).on("keydown",function(o){27==o.which&&e(".mpp-is-open").each(function(t,n){var i=e(n).data("MasterPopup");i.options.triggers.close.onEscKeydown&&i.close(o)})}),i.prototype={has_popup:function(){return this.$popup.length>0},set_position:function(){var e=this,o=["top-bar","bottom-bar","bottom-left","bottom-center","bottom-right"];e.options.position=-1!==o.indexOf(e.options.position)?"middle-center":e.options.position},set_options_to_data:function(e){var o=this;o.has_popup()&&o.$popup.data("popup",e)},init:function(){var e=this;e.init_elements(),e.build_link_powered_by(),e.has_overlay()&&e.options.preloader.show&&e.build_preloader(e.$overlay)},init_elements:function(){this.$elements.each(function(o,t){var n=e(this).data("actions");n.onclick&&"default"!=n.onclick.action&&e(t).css("cursor","pointer"),"countdown"===e(t).data("type")&&($countdown=e(t).find(".mpp-countdown"),$countdown.length&&"function"==typeof e.fn.MasterPopupsCountdown&&$countdown.MasterPopupsCountdown())})},build_preloader:function(e){var o=this;e.append('<div class="mpp-preloader"></div>'),o.is_support_css_property("animation")?e.find(".mpp-preloader").addClass("mpp-preloader-animation").html('<div class="mpp-preloader-spinner1"></div><div class="mpp-preloader-spinner2"></div>'):e.find(".mpp-preloader").addClass("mpp-preloader-image")},build_link_powered_by:function(){var e=this;e.$popup.find(".cookieplus-wrap-link-powered-by").length&&e.$popup.find(".mpp-wrap-link-powered-by").remove()},show_popup_content:function(){this.$popup.find(".mpp-content").css("opacity","1")},hide_popup_content:function(){this.$popup.find(".mpp-content").css("opacity","0")},events:function(){var n=this;n.$popup.on("mpp_changed_device",n.on_changed_device),n.on_click_elements(),n.close_popup_events(),n.video_events(),n.form_events(),n.countdown_events(),e(o).on("resize",function(){n.is_open&&(n.set_dynamic_styles("onResize"),n.call_function("resize",n.options.callbacks.resize))}),e(o).scroll(function(){n.is_open}),n.$popup.find(".mpp-input, .mpp-select, .mpp-textarea").on("focus",function(e){r.working=n.popup_id}),n.$popup.on("hover",function(e){r.working=n.popup_id}),e(t).on("click",function(o){0===e(o.target).closest(".mpp-container").length&&(r.working=0)})},on_changed_device:function(e,o,t,n){o.restore_video_poster_and_stop_videos(n)},countdown_events:function(){"function"==typeof e.fn.MasterPopupsCountdown&&MasterPopupsCountdown.on("finish",function(e,o){$popup=e.$el.closest(".mpp-box"),$popup.length&&$popup.find(".mpp-countdown-message").length&&$popup.find(".mpp-countdown-message").fadeIn()})},on_click_elements:function(){var t=this;t.$popup.on("click",".mpp-element",function(n){var i=e(this).data("actions");if(i.onclick){switch(i.onclick.action){case"close-popup":n.preventDefault(),t.close(n);break;case"open-popup":case"open-popup-and-not-close":n.preventDefault(),"open-popup"==i.onclick.action&&t.close(n);var p=i.onclick.popup_id;MPP_POPUP_OPTIONS[p]&&(MPP_POPUP_OPTIONS[p].open.event="click",r.open_popup_by_id(p));break;case"redirect-to-url":n.preventDefault(),i.onclick.url&&"#"!=i.onclick.url&&"http://"!=i.onclick.url&&o.open(i.onclick.url,i.onclick.target)}i.onclick.cookie_name&&r.set_custom_cookie(t.popup_id,i.onclick.cookie_name)}})},close_popup_events:function(){var e=this;e.$popup.on("click",".mpp-element-close-icon, .mpp-close-popup",function(o){o.preventDefault(),e.close(o)}),e.has_overlay()&&e.options.triggers.close.onClickOverlay&&(e.$overlay.addClass("mpp-overlay-close-popup"),e.$overlay.on("click",function(o){e.close(o)}))},video_events:function(){this.$popup.find(".mpp-element-video").on("click",".mpp-video-poster .mpp-play-icon",function(o){e(this).parent(".mpp-video-poster").css("display","none");var t,n=e(this).closest(".mpp-element").find(".mpp-wrap-video");"html5"==n.data("video-type")?(t=n.find("video").first(),videojs(t.attr("id")).play()):(t=n.find("iframe").first(),t.attr("src",t.data("src")))})},form_events:function(){var o=this;o.valid_characters_events(),o.$popup.find(".mpp-element-field_submit").on("keypress",function(o){13===o.which&&e(this).trigger("click")}),o.$popup.find(".mpp-element-field_submit").on("click",function(t){o.$popup.removeClass("mpp-form-sent-ok");var n=e(this),i=o.build_processing_form(),p=i.find(".mpp-processing-form-content"),r=o.get_device_content(n.data("device"));i.fadeIn(200,function(e){o.hide_popup_content(),"none"==o.$popup.data("form-type")?setTimeout(function(){p.html('Please define the "Form Type". Go your popup options and in "Form Type" choose Subscription Form or Contact Form.'),o.remove_preloader_processing_form()},1800):o.validate_form(t,r)?o.process_form(t,r,i):setTimeout(function(){o.remove_processing_form()},1800)})}),o.$popup.find(".mpp-input, .mpp-select, .mpp-textarea").on("focus",function(o){e(this).removeClass("mpp-error"),e(this).closest(".mpp-element").removeClass("mpp-has-error").find(".mpp-error-warning").remove()}),o.$popup.find(".mpp-element-custom_field_input_checkbox label, .mpp-element-custom_field_input_checkbox_gdpr label").on("click touchstart",function(o){e(this).find(".mpp-checkbox").removeClass("mpp-error"),e(this).closest(".mpp-element").removeClass("mpp-has-error").find(".mpp-error-warning").remove()}),o.$popup.on("click",".mpp-back-to-form",function(e){o.remove_processing_form()})},valid_characters_events:function(){var o=this,t=".mpp-element-field_first_name,.mpp-element-field_last_name,.mpp-element-custom_field_input_text,.mpp-element-field_phone";o.$popup.find(".mpp-input").on("keydown",function(o){var n=e(this),i=n.data("valid-characters");n.closest(t).length&&"all"!=i&&!r.is_control_keypress(o)&&("not-numbers"==i&&r.is_number_keypress(o)?o.preventDefault():("only-numbers"!=i||r.is_number_keypress(o))&&("numbers-and-plus"!=i||r.is_number_keypress(o,"."))?"numbers-and-dash"!=i||r.is_number_keypress(o,"-")||o.preventDefault():o.preventDefault())}),o.$popup.find(".mpp-input").on("keyup",function(o){var n=e(this),i=n.data("valid-characters");if(n.closest(t).length&&"all"!=i)switch(i){case"not-numbers":this.value=this.value.replace(/[\d]+/,"");break;case"only-numbers":this.value=this.value.replace(/[^\d]+/,"");break;case"numbers-and-plus":this.value=this.value.replace(/[^\d.]+/,"");break;case"numbers-and-dash":this.value=this.value.replace(/[^\d-]+/,"")}})},get_last_open_event:function(e){return e||r.last_open_event},open:function(e){var o=this;if(e=e||o.options.open.event,r.last_open_event=e,!(o.is_open||o.is_opening||o.enqueue_this_popup(e)&&"on"==r.enable_enqueue_popups))return o.set_opening(!0),setTimeout(function(){o.before_open_popup(e),setTimeout(function(){o.hide_preloader(),setTimeout(function(){o.$popup.fadeIn(120)},80),o.animate_elements(),o.$wrap.animateCSS_MasterPopup(o.options.open.animation,{infinite:!0,infiniteClass:"",duration:r.parse_number(o.options.open.duration)}),setTimeout(function(){o.after_open_popup(e)},r.parse_number(o.options.open.duration)+100)},o.duration_preloader_and_overlay(e))},r.parse_number(o.options.open.delay)),!1},enqueue_this_popup:function(e){var o=this;if("onLoad"==e&&o.exist_open_popups()){var t=r.queue_popups.indexOf(o.options.id);return t>0&&r.queue_popups.splice(t,1),r.queue_popups.push(o.options.id),!0}return!1},exist_open_popups:function(){return e(".mpp-popup").is(".mpp-is-opening, .mpp-is-open")},set_opening:function(e){var o=this;o.is_opening=e,e?o.$popup.addClass("mpp-is-opening"):o.$popup.removeClass("mpp-is-opening")},before_open_popup:function(e){var o=this;o.set_initial_styles(),o.set_dynamic_styles("onOpen"),o.open_overlay(e),o.lazy_load_content(),o.call_function("beforeOpen",o.options.callbacks.beforeOpen),o.$popup.trigger("masterpopups.BeforeOpenPopup",[this,o.$popup,o.options])},after_open_popup:function(e){var o=this;o.set_opening(!1),o.is_open=!0,o.$wrap.removeClass(o.options.open.animation+" mpp-animated"),o.$popup.addClass("mpp-is-open"),o.show_hide_link_powered_by("show"),o.update_impressions(),o.call_function("afterOpen",o.options.callbacks.afterOpen),-1==r.opened_popups.indexOf(o.popup_id)&&r.opened_popups.push(o.popup_id),o.$popup.trigger("masterpopups.AfterOpenPopup",[this,o.$popup,o.options])},open_overlay:function(e){var o=this;o.has_overlay()&&(o.$overlay.fadeIn(o.overlay_duration_in(e)),o.options.preloader.show&&o.$overlay.find(".mpp-preloader").fadeIn(200))},overlay_duration_in:function(e){var o=this;return r.parse_number(o.options.overlay.durationIn)},hide_preloader:function(){var e=this;e.has_overlay()&&e.$overlay.find(".mpp-preloader").fadeOut(250)},show_hide_link_powered_by:function(e){var o=this;o.$popup.find(".mpp-wrap-link-powered-by").length&&("show"==e?o.$popup.find(".mpp-wrap-link-powered-by").fadeIn(500):o.$popup.find(".mpp-wrap-link-powered-by").fadeOut(100))},duration_preloader_and_overlay:function(e){var o=this;if(!o.has_overlay())return 0;var t=0;return o.options.preloader.show&&(t=r.parse_number(o.options.preloader.duration)),t+o.overlay_duration_in(e)},lazy_load_content:function(e){this.load_iframe_url()},load_iframe_url:function(o){this.$popup.find(".mpp-element-iframe").each(function(o,t){var n=e(t).find(".mpp-iframe-wrap").data("src");n&&e(t).find(".mpp-iframe-wrap > iframe").attr("src",n)})},animate_elements:function(){this.$elements.each(function(o,t){var n=e(t).data("animation");"on"==n.enable&&(e(t).hide(),setTimeout(function(){e(t).show()},r.parse_number(n.delay)+50),e(t).animateCSS_MasterPopup(n.effect,{delay:r.parse_number(n.delay),duration:r.parse_number(n.duration)}))})},set_initial_styles:function(){var e=this;e.show_popup_content(),e.update_z_index(),e.options.wpEditor.enabled&&(e.$popup.addClass("mpp-has-wp-editor"),e.$popup.find(".mpp-content").css({padding:e.options.wpEditor.padding}))},set_dynamic_styles:function(e){var o=this;o.display_content_for_device(),o.resize(e),o.reposition_close_icon()},update_z_index:function(){var e=this;e.$overlay.css("z-index",r.z_index.overlay),r.z_index.overlay++,e.$popup.css("z-index",r.z_index.popup),r.z_index.popup++},display_content_for_device:function(){var e=this;"none"==e.$desktop_content.css("display")&&(e.$desktop_content.show(),e.$mobile_content.hide())},resize:function(e){var o=this,t=o.get_device_options(),n=o.window_size(),i=Math.max(280,n.width-o.get_spacing()-o.get_side_spacing()),p=Math.max(280,n.height-o.get_spacing()),r=Math.min(i/o.get_number_value(t.width+t.widthUnit,"horizontal"),p/o.get_number_value(t.height+t.heightUnit,"vertical"));r=r>1?1:r,o.in_mobile_reference()&&(r*=parseFloat(o.options.ratioSmallDevices)),o.$popup.css("height",o.value_by_ratio(r,t.height+t.heightUnit)),o.$popup.css("width",o.value_by_ratio(r,t.width+t.widthUnit)),o.$device_contents.css({width:o.value_by_ratio(r,t.width+"px"),height:o.value_by_ratio(r,t.height+"px")}),o.options.wpEditor.enabled?o.resize_for_wp_editor():o.resize_elements(e,r)},resize_elements:function(o,t){var n=this;n.$elements.each(function(o,i){var p=e(i).data("type"),s=e(i).data("position"),a=e(i).data("size"),u=s.top,c=s.left;if(e(i).css({top:n.value_by_ratio(t,u),left:n.value_by_ratio(t,c),width:n.value_by_ratio(t,a.width),height:n.value_by_ratio(t,a.height)}),"shortcode"!=p){var d=e(i).find(".mpp-element-content"),l=d.data("font"),_=d.data("padding"),f=d.data("border"),m=d;e.inArray(p,n.form_elements())>-1&&(m=d.find("input"),"field_message"==p?m=d.find("textarea"):"custom_field_dropdown"==p&&(m=d.find("select")));var h={"font-size":n.value_by_ratio(t,l["font-size"]),"padding-top":n.value_by_ratio(t,_.top),"padding-right":n.value_by_ratio(t,_.right),"padding-bottom":n.value_by_ratio(t,_.bottom),"padding-left":n.value_by_ratio(t,_.left),"border-top-width":n.value_by_ratio(t,f["top-width"]),"border-right-width":n.value_by_ratio(t,f["right-width"]),"border-bottom-width":n.value_by_ratio(t,f["bottom-width"]),"border-left-width":n.value_by_ratio(t,f["left-width"]),"border-radius":n.value_by_ratio(t,f.radius)};if(e.each(h,function(e,o){m._css(e,o,"important")}),"custom_field_dropdown"==p){var v=r.number_data(l["font-size"]),b=.8*r.parse_number(v.value)+v.unit;e(i).find(".mpp-icon-dropdown").css({"font-size":n.value_by_ratio(t,b)})}if("video"==p&&"on"==a["full-screen"]){var g=n.window_size();e(i)._css("width",g.width+"px","important"),e(i)._css("height",g.height+"px","important"),e(i)._css("top","50%","important"),e(i)._css("left","50%","important"),e(i)._css("transform","translate(-50%, -50%) scale(1)","important")}}})},resize_for_wp_editor:function(){var e=this,o=e.get_device_options(),t=e.window_size();e.options.wpEditor.autoHeight?e.$popup.css({height:"auto"}):e.$popup.css({height:o.height+o.heightUnit});var n=e.popup_size(),i=0;"middle-center"==e.options.position&&(i=40),"middle-center"==e.options.position&&"middle-center"!=e.options.position||n.height+1>t.height&&(e.$popup.css("height",t.height-i),n=e.popup_size());var p=Math.max(0,(t.height-n.height)/2),r=Math.max(0,(t.width-n.width)/2);switch(e.options.position){case"top-left":case"top-center":case"top-right":"top-center"==e.options.position&&e.$popup.css("left",r+t.scrollLeft);break;case"middle-center":e.$popup.css({top:p,left:r+t.scrollLeft});break;case"middle-left":case"middle-right":e.$popup.css("top",p)}},reposition_close_icon:function(){var e=this,o=e.$popup.find(".mpp-close-icon");if(o.length){var t=e.popup_size();o.css({left:t.width-o.width()-10,top:10})}},close:function(e,o){var t=this;t.is_open&&(t.before_close_popup(o),t.$wrap.animateCSS_MasterPopup(t.options.close.animation,{infinite:!0,infiniteClass:"",duration:t.options.close.duration}),setTimeout(function(){t.after_close_popup(o)},r.parse_number(t.options.close.duration)))},before_close_popup:function(e){var o=this;o.show_hide_link_powered_by("hide"),o.call_function("beforeClose",o.options.callbacks.beforeClose),o.$popup.trigger("masterpopups.BeforeClosePopup",[this,o.$popup,o.options])},after_close_popup:function(e){var o=this;o.close_overlay(),o.$popup.hide(),o.$wrap.removeClass(o.options.close.animation+" mpp-animated"),o.$popup.removeClass("mpp-is-open"),o.is_open=!1,o.restore_video_poster_and_stop_videos(),o.restore_iframe_url(),o.remove_processing_form(),o.set_cookies_after_close(),"on"==r.enable_enqueue_popups&&o.open_enqueue_popups(),o.call_function("afterClose",o.options.callbacks.afterClose),o.$popup.trigger("masterpopups.AfterClosePopup",[this,o.$popup,o.options])},close_overlay:function(){var e=this;e.has_overlay()&&e.$overlay.fadeOut(r.parse_number(e.options.overlay.durationOut))},restore_iframe_url:function(o){this.$popup.find(".mpp-element-iframe").each(function(o,t){e(t).find(".mpp-iframe-wrap > iframe").attr("src","about:blank")})},restore_video_poster_and_stop_videos:function(o){var t=this,n=t.$popup.find(".mpp-element-video");o&&(n=t.get_device_content(o).find(".mpp-element-video")),n.each(function(o,t){e(t).find(".mpp-video-poster").css("display","block");var n,i=e(t).find(".mpp-wrap-video");if("html5"==i.data("video-type")){n=i.find("video").first();var p=videojs(n.attr("id"));p.pause(),p.currentTime(0)}else n=i.find("iframe").first(),n.attr("src","about:blank")})},set_cookies_after_close:function(){var e=this,o=e.options.cookies[e.get_last_open_event()];o&&o.enabled&&r.cookie.set(o.name,!0,"days"==o.duration?o.days:0),e.options.custom_cookie_on_close&&r.set_custom_cookie(e.popup_id,e.options.custom_cookie_on_close)},open_enqueue_popups:function(){r.queue_popups.length>0&&(r.open_popup_by_id(r.queue_popups[0]),r.queue_popups.shift())},update_impressions:function(e){var o=this;e=e||!1;var t={};t.action="mpp_update_impressions",t.popup_id=o.options.id,t.restore=e,setTimeout(function(){o.ajax({data:t,success:function(e){}},"update_impressions")},7e3)},update_submits:function(){var e=this,o={};o.action="mpp_update_submits",o.popup_id=e.options.id,e.ajax({data:o,success:function(e){}},"update_submits")},build_processing_form:function(){var e=this,o='<div class="mpp-processing-form"><div class="mpp-processing-form-content"></div><div class="mpp-processing-form-footer"><span class="mpp-back-to-form">'+MPP_PUBLIC_JS.strings.back_to_form+'</span><span class="mpp-close-popup">'+MPP_PUBLIC_JS.strings.close_popup+"</span></div></div>";e.$wrap.append(o);var t=e.$wrap.find(".mpp-processing-form");return e.build_preloader(t),e.$wrap.find(".mpp-preloader").fadeIn(200),t},remove_processing_form:function(){var o=this;o.show_popup_content(),o.$wrap.find(".mpp-processing-form").fadeOut(300,function(o){e(this).remove()})},remove_preloader_processing_form:function(){var e=this,o=e.$wrap.find(".mpp-processing-form");o.find(".mpp-preloader").remove(),o.find(".mpp-processing-form-footer").fadeIn(200)},process_form:function(t,n,i){var p=this,s=n.find(".mpp-form-element:not(.mpp-element-field_submit)"),a=i.find(".mpp-processing-form-content"),u=s.find("input[name],select[name],textarea[name]").serializeMyObject();u.action="mpp_"+p.$popup.data("form-type"),u.popup_id=p.options.id,u.current_device=s.eq(0).data("device"),u.popup_elements=[],s.each(function(o,t){u.popup_elements.push(e(t).data("index"))}),p.ajax({data:u,beforeSend:function(){},success:function(e){if(e)if(e.error)a.html(e.message);else if(e.success){var n=p.options.cookies.onConversion;n.enabled&&r.cookie.set(n.name,!0,"days"==n.duration?n.days:0),e.actions.close_popup&&setTimeout(function(){p.close(t,!1),r.open_popup_by_id(e.actions.open_popup_id)},r.parse_number(e.actions.close_popup_delay)),e.actions.download_file&&setTimeout(function(){download(e.actions.file)},1e3),e.actions.redirect&&setTimeout(function(){p.$body.hasClass("wp-admin")?alert("MasterPopups say: Redirection is disabled in Admin"):o.location=e.actions.redirect_to},1500),e.actions.advanced_redirection&&setTimeout(function(){p.$body.hasClass("wp-admin")?alert("MasterPopups say: Redirection is disabled in Admin"):o.location=e.actions.advanced_redirection},1500),p.update_submits(),p.$popup.addClass("mpp-form-sent-ok"),a.html(e.actions.message),p.call_function("submit",p.options.callbacks.onSubmit,!0)}else{var i=e.actions.message;e.actions.error&&(i+='<div style="padding-top: 8px;"><strong>ERROR: </strong><em>'+e.actions.error+"</em></div>"),a.html(i),p.call_function("submit",p.options.callbacks.onSubmit,!1)}},complete:function(e,o){p.remove_preloader_processing_form()}},"process_form")},validate_form:function(o,t){var n,i,p,r,s=this,a=!0,u=!0,c=1;return t.find(".mpp-form-element").each(function(o,t){if("off"==e(t).data("required"))return!0;if(p=e(t).data("type"),n="custom_field_input_checkbox"==p||"custom_field_input_checkbox_gdpr"==p?e(t).find("input.mpp-checkbox"):"custom_field_dropdown"==p?e(t).find("select.mpp-select"):"field_message"==p?e(t).find("textarea.mpp-textarea"):e(t).find("input.mpp-input"),e(t).removeClass("mpp-has-error").find(".mpp-error-warning").remove(),n.removeClass("mpp-error"),"custom_field_input_checkbox"==p||"custom_field_input_checkbox_gdpr"==p)n.is(":checked")?a=!0:(a=!1,u=!1,r=MPP_PUBLIC_JS.strings.validation.checkbox);else if("field_email"==p)i=n.val(),s.validator.is_email(i)?a=!0:(a=!1,u=!1,r=MPP_PUBLIC_JS.strings.validation.email);else if("custom_field_dropdown"==p)s.validator.min_length(n.val(),1)?a=!0:(a=!1,u=!1,r=MPP_PUBLIC_JS.strings.validation.dropdown);else{var d=e(t).find(".mpp-input");d.length&&d.data("min-characters")&&(c=parseInt(d.data("min-characters"))),c=c>=1?c:1,s.validator.min_length(n.val(),c)?a=!0:(a=!1,u=!1,r=MPP_PUBLIC_JS.strings.validation.general+" (Min length: "+c+")")}a||(n.addClass("mpp-error"),e(t).addClass("mpp-has-error").append('<span class="mpp-error-warning" title="'+r+'"></span>'))}),u},call_function:function(o,t,n){var i=this;e.isFunction(t)&&t.call(i,jQuery,i,i.options.id,i.options,n),r.call_events(o,jQuery,i,i.options.id,i.options,n)},viewport:function(){var e=o,n="inner";return"innerWidth"in o||(n="client",e=t.documentElement||t.body),{width:e[n+"Width"],height:e[n+"Height"]}},window_size:function(){var n=this,i={height:e(o).height(),dWidth:e(t).width(),dHeight:e(t).height(),scrollTop:e(o).scrollTop(),scrollLeft:e(o).scrollLeft(),viewport:{width:n.viewport().width,height:n.viewport().height}};return i.width=e(o).width(),i},popup_size:function(){var e=this;return{width:e.$popup.width(),height:e.$popup.height(),innerWidth:e.$popup.innerWidth(),innerHeight:e.$popup.innerHeight(),outerWidth:e.$popup.outerWidth(!0),outerHeight:e.$popup.outerHeight(!0)}},get_device_options:function(){return this.options.desktop},get_active_device:function(){return"desktop"},get_device_content:function(e){return this.$desktop_content},in_mobile_reference:function(){var e=this;return this.window_size().width<=e.options.mobile.browserWidth},get_spacing:function(){var e=this,o=e.get_device_options();return 100==o.width&&"%"==o.widthUnit?0:e.window_size().width<=e.options.mobile.browserWidth?10:20},get_side_spacing:function(){var e=this;return e.options.position.indexOf("left")>-1||e.options.position.indexOf("right")>-1?.12*e.window_size().width:0},is_support_css_property:function(e){var o=t.createElement("div");if(e=e.toLowerCase(),void 0!==o.style[e])return!0;for(var n=e.charAt(0).toUpperCase()+e.substr(1),i="Webkit Moz ms O".split(" "),p=0;p<i.length;p++)if(void 0!==o.style[i[p]+n])return!0;return!1},form_elements:function(){return["field_first_name","field_last_name","field_email","field_phone","field_message","custom_field_input_text","custom_field_dropdown"]},has_overlay:function(){var e=this;return e.options.overlay.show&&1==e.$overlay.length},get_number_value:function(e,o){var t=this,n=t.window_size(),i=1;if(o=o||"horizontal",t.is_numeric(e)){var p=r.number_data(e);i=p.value,"%"==p.unit&&("horizontal"==o?i=p.value/100*n.width:"vertical"==o&&(i=p.value/100*n.height))}return r.parse_number(i)},value_by_ratio:function(e,o){var t=this;if(t.is_auto(o))return o;if(t.is_numeric(o)){var n=r.number_data(o);return e*parseFloat(n.value)+n.unit}return""},is_number:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},is_numeric:function(e){return!isNaN(parseInt(e))},is_auto:function(o){return e.inArray(o,["auto","initial","inherit","normal"])>-1},number_full_width:function(){return this.get_number_value("100%","horizontal")},number_full_height:function(){return this.get_number_value("100%","vertical")},validator:{is_email:function(e){return/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(e)},min_length:function(o,t){return e.trim(o).length>=t}},css:{number:function(o,t){var n=this;t=t||"";var i=["auto","initial","inherit","normal"];return e.inArray(o,i)>-1?o:(o=o.toString().replace(/[^0-9.\-]/g,""),n.is_number(o)?o+t:1)},is_number:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},ajax:function(o,t){var n={type:"post",data:{ajax_nonce:MPP_PUBLIC_JS.ajax_nonce},dataType:"json",beforeSend:function(){},success:function(e){},complete:function(e,o){}};o=e.extend(!0,{},n,o),p("==================== AJAX PROCESS ===================="),p("options.data:"),p(o.data),e.ajax({url:MPP_PUBLIC_JS.ajax_url,type:o.type,dataType:o.dataType,data:o.data,beforeSend:o.beforeSend,success:function(n){p("====== AJAX Event: "+t+" ========"),p("ajax success, response:"),p(n),e.isFunction(o.success)&&o.success.call(this,n)},error:function(e,o,t){p("ajax error, jqXHR"),p(e),p("ajax error, errorThrown"),p(t)},complete:function(t,n){e.isFunction(o.complete)&&o.complete.call(this,t,n)}})},queryStringToJson:function(e){if(""===e)return"";e=e||location.search,0===e.indexOf("?")&&(e=e.slice(1));var o=e.split("&"),t={};for(var n in o){var i=o[n].split("=");i[0]&&(t[i[0]]=decodeURIComponent(i[1]||""))}return t}},r.set_custom_cookie=function(e,o){var t=MPP_POPUP_OPTIONS[e].custom_cookies[o];t&&"on"==t.enable&&r.cookie.set(t.name,!0,"days"==t.duration?t.days:0)},r.get_cookie_event=function(e,o){if(o.cookies&&o.cookies[e]){var t=o.cookies[e];if(t.enabled&&null!==r.cookie.get(t.name))return r.cookie.get(t.name)}return null},r.get_custom_cookies=function(e){var o=MPP_POPUP_OPTIONS[e].custom_cookies_on_click,t={};return o.length>0&&o.forEach(function(o,n,i){var p=MPP_POPUP_OPTIONS[e].custom_cookies[o];p&&"on"==p.enable&&(t[o]=p)}),t},r.has_cookie_not_show_popup=function(o){var t=!1,n=r.get_custom_cookies(o);return e.each(n,function(e,o){null!==r.cookie.get(o.name)&&o.behavior&&o.behavior.indexOf("not_show_popup")>-1&&(t=!0)}),t},r.is_empty=function(o){return void 0===o||null===o||("object"==typeof o&&o instanceof e?0===o.length:!1===o||0===e.trim(o).length)},r.parse_number=function(e){return e=parseFloat(e),isFinite(e)?e:1},r.in_scroll_top=function(n,i){i=i||">=";var p=r.number_data(n),s=r.parse_number(p.value);return">="===i?"%"==p.unit?e(o).scrollTop()>=(e(t).height()-e(o).height())*(s/100):e(o).scrollTop()>=s:"%"==p.unit?e(o).scrollTop()<=(e(t).height()-e(o).height())*(s/100):e(o).scrollTop()<=s},r.in_scroll_element=function(t,n){n=n||"top";var i=t.offset().top,p=t.outerHeight(),r=e(o).scrollTop(),s=e(o).height();if("top"==n){return r>i-.5*s}if("bottom"==n){var a=e("body").height()-s,u=i+p-.6*s;return u>a&&(u=u-.4*s-100),r>u}return!1},r.number_data=function(o){var t={value:o,unit:void 0};return o?(o=o.toString(),e.inArray(o,["auto","initial","inherit","normal"])>-1?(t.value=o,t.unit=void 0):o.indexOf("px")>-1?(t.value=o.replace("px",""),t.unit="px"):o.indexOf("%")>-1?(t.value=o.replace("%",""),t.unit="%"):o.indexOf("em")>-1&&(t.value=o.replace("em",""),t.unit="em"),t):t},r.cookie={set:function(e,o,n){var i="";if(n){n=parseInt(n,10);var p=new Date;p.setTime(p.getTime()+24*n*60*60*1e3),i="; expires="+p.toGMTString()}t.cookie=e+"="+o+i+"; path=/"},get:function(e){for(var o=e+"=",n=t.cookie.split(";"),i=0;i<n.length;i++){for(var p=n[i];" "===p.charAt(0);)p=p.substring(1,p.length);if(0===p.indexOf(o))return p.substring(o.length,p.length)}return null},remove:function(e){this.set(e,"",-1)}},r.reverse_object=function(e){var o={},t=[];for(var n in e)t.push(n);for(var i=t.length-1;i>=0;i--){var p=e[t[i]];o[t[i]]=p}return o},r.is_control_keypress=function(o){return-1!==e.inArray(o.keyCode,[8,46,9,27,13])||65==o.keyCode&&(!0===o.ctrlKey||!0===o.metaKey)||67==o.keyCode&&(!0===o.ctrlKey||!0===o.metaKey)||86==o.keyCode&&(!0===o.ctrlKey||!0===o.metaKey)||88==o.keyCode&&(!0===o.ctrlKey||!0===o.metaKey)||o.keyCode>=35&&o.keyCode<=39},r.is_number_keypress=function(o,t){return!(!t||"."!=t||-1===e.inArray(o.keyCode,[110,190]))||(!(!t||"-"!=t||-1===e.inArray(o.keyCode,[189,109]))||(!(o.shiftKey||o.keyCode<48||o.keyCode>57)||!(o.keyCode<96||o.keyCode>105)))},r.open_popup_by_id=function(o,t){var n;return t&&"object"==typeof t?n=e(".mpp-popup-"+o).MasterPopups(t):r.is_empty(MPP_POPUP_OPTIONS[o])||(n=e(".mpp-popup-"+o).MasterPopups(MPP_POPUP_OPTIONS[o])),n},r.open=function(e,o){return r.open_popup_by_id(e,o)},r.close=function(o){var t;t=o instanceof jQuery?o:e(".mpp-container-"+o+"> .mpp-box"),t.data("MasterPopup")&&t.data("MasterPopup").close()},r.on=function(e,o){r.callbacks.push({name:e,callback:o})},r.call_events=function(e,o,t,n,i,p){r.callbacks&&r.callbacks.map(function(r){r.name===e&&"function"==typeof r.callback&&r.callback.call(this,o,t,n,i,p)})},e.fn.MasterPopups=function(o){if("string"!=typeof o)return this.each(function(){var t=e(this).data("popup-id");if(void 0===o&&t&&(o=MPP_POPUP_OPTIONS[t]),e(this).data("MasterPopup")){var n="click";return e(this).data("popup")&&(n=o.open.event||"click"),e(this).data("MasterPopup").open(n)}e(this).data("MasterPopup",new i(this,o))});console.log("Options is string")},r}(jQuery,window,document),function(e){if(!e.fn._css){var o=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};!!CSSStyleDeclaration.prototype.getPropertyValue||(CSSStyleDeclaration.prototype.getPropertyValue=function(e){return this.getAttribute(e)},CSSStyleDeclaration.prototype.setProperty=function(e,t,n){this.setAttribute(e,t);var n=void 0!==n?n:"";if(""!=n){var i=new RegExp(o(e)+"\\s*:\\s*"+o(t)+"(\\s*;)?","gmi");this.cssText=this.cssText.replace(i,e+": "+t+" !"+n+";")}},CSSStyleDeclaration.prototype.removeProperty=function(e){return this.removeAttribute(e)},CSSStyleDeclaration.prototype.getPropertyPriority=function(e){return new RegExp(o(e)+"\\s*:\\s*[^\\s]*\\s*!important(\\s*;)?","gmi").test(this.cssText)?"important":""}),e.fn._css=function(o,t,n){var i=this;if(void 0===i.get(0))return i;var p=function(e){var p=e.style;return void 0!==o?void 0!==t?(n=void 0!==n?n:"",p.setProperty(o,t,n),i):p.getPropertyValue(o):p},r=i;return e.each(this,function(e,o){r=p(o)}),r}}}(jQuery),function(e,o){"$:nomunge";e.fn.serializeMyObject=function(){var o={};return e.each(this.serializeArray(),function(t,n){var i=n.name,p=n.value;o[i]=void 0===o[i]?p:e.isArray(o[i])?o[i].concat(p):[o[i],p]}),o}}(jQuery),function(){"use strict";var e;e=jQuery,e.fn.extend({
animateCSS_MasterPopup:function(o,t){var n,i,p,r,s,a,u,c,d,l;return c={effect:o,delay:0,animationClass:"mpp-animated",infiniteClass:"mpp-infinite",infinite:!1,callback:t,duration:1e3,debug:!1},d="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",c=e.extend(c,t),s=function(e){return i(e)},i=function(e){return!0===c.infinite&&(c.animationClass+=" "+c.infiniteClass),setTimeout(function(){return u(e),l(e),n(e),r(e)},c.delay)},n=function(e){return e.addClass(c.effect+" "+c.animationClass+" ")},l=function(e){if("hidden"===e.css("visibility")&&e.css("visibility","visible"),e.is(":hidden"))return e.show()},a=function(e){return e.removeClass(c.effect+" "+c.animationClass)},u=function(e){return e.css({"-webkit-animation-duration":c.duration+"ms","-moz-animation-duration":c.duration+"ms","-o-animation-duration":c.duration+"ms","animation-duration":c.duration+"ms"})},p=function(e){if(!1===c.infinite&&a(e),"function"==typeof c.callback)return c.callback.call(e)},r=function(e){return e.one(d,function(){return p(e)})},this.each(function(){return s(e(this))})}})}.call(this),function(e,o){"function"==typeof define&&define.amd?define([],o):"object"==typeof exports?module.exports=o():e.download=o()}(this,function(){return function e(o,t,n){function i(e){var o=e.split(/[:;,]/),t=o[1],n="base64"==o[2]?atob:decodeURIComponent,i=n(o.pop()),p=i.length,r=0,s=new Uint8Array(p);for(r;r<p;++r)s[r]=i.charCodeAt(r);return new m([s],{type:t})}function p(e,o){if("download"in _)return _.href=e,_.setAttribute("download",h),_.className="download-js-link",_.innerHTML="downloading...",_.style.display="none",document.body.appendChild(_),setTimeout(function(){_.click(),document.body.removeChild(_),!0===o&&setTimeout(function(){a.URL.revokeObjectURL(_.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,u)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var t=document.createElement("iframe");document.body.appendChild(t),!o&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,u)),t.src=e,setTimeout(function(){document.body.removeChild(t)},333)}var r,s,a=window,u="application/octet-stream",c=n||u,d=o,l=!t&&!n&&d,_=document.createElement("a"),f=function(e){return String(e)},m=a.Blob||a.MozBlob||a.WebKitBlob||f,h=t||"download";if(m=m.call?m.bind(a):Blob,"true"===String(this)&&(d=[d,c],c=d[0],d=d[1]),l&&l.length<2048&&(h=l.split("/").pop().split("?")[0],_.href=l,-1!==_.href.indexOf(l))){var v=new XMLHttpRequest;return v.open("GET",l,!0),v.responseType="blob",v.onload=function(o){e(o.target.response,h,u)},setTimeout(function(){v.send()},0),v}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(d)){if(!(d.length>2096103.424&&m!==f))return navigator.msSaveBlob?navigator.msSaveBlob(i(d),h):p(d);d=i(d),c=d.type||u}else if(/([\x80-\xff])/.test(d)){var b=0,g=new Uint8Array(d.length),y=g.length;for(b;b<y;++b)g[b]=d.charCodeAt(b);d=new m([g],{type:c})}if(r=d instanceof m?d:new m([d],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(r,h);if(a.URL)p(a.URL.createObjectURL(r),!0);else{if("string"==typeof r||r.constructor===f)try{return p("data:"+c+";base64,"+a.btoa(r))}catch(e){return p("data:"+c+","+encodeURIComponent(r))}s=new FileReader,s.onload=function(e){p(this.result)},s.readAsDataURL(r)}return!0}}),function(e){"use strict";e.fn.idle=function(o){var t,n,i={idle:6e4,events:"mousemove keydown mousedown touchstart",onIdle:function(){},onActive:function(){},onHide:function(){},onShow:function(){},keepTracking:!0,startAtIdle:!1,recurIdleCall:!1},p=o.startAtIdle||!1,r=!o.startAtIdle||!0,s=e.extend({},i,o),a=null;return e(this).on("idle:stop",{},function(){e(this).off(s.events),s.keepTracking=!1,t(a,s)}),t=function(e,o){return p&&(p=!1,o.onActive.call()),clearTimeout(e),o.keepTracking?n(o):void 0},n=function(e){return(e.recurIdleCall?setInterval:setTimeout)(function(){p=!0,e.onIdle.call()},e.idle)},this.each(function(){a=n(s),e(this).on(s.events,function(){a=t(a,s)}),(s.onShow||s.onHide)&&e(document).on("visibilitychange webkitvisibilitychange mozvisibilitychange msvisibilitychange",function(){document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?r&&(r=!1,s.onHide.call()):r||(r=!0,s.onShow.call())})})}}(jQuery);